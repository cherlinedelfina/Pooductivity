var Z=Object.create;var E=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var $=Object.getOwnPropertyNames,B=Object.getOwnPropertySymbols,ee=Object.getPrototypeOf,w=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var I=(r,t,n)=>t in r?E(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,T=(r,t)=>{for(var n in t||(t={}))w.call(t,n)&&I(r,n,t[n]);if(B)for(var n of B(t))J.call(t,n)&&I(r,n,t[n]);return r};var K=r=>E(r,"__esModule",{value:!0});var O=(r,t)=>{var n={};for(var i in r)w.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(r!=null&&B)for(var i of B(r))t.indexOf(i)<0&&J.call(r,i)&&(n[i]=r[i]);return n};var re=(r,t)=>{for(var n in t)E(r,n,{get:t[n],enumerable:!0})},U=(r,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let u of $(t))!w.call(r,u)&&(n||u!=="default")&&E(r,u,{get:()=>t[u],enumerable:!(i=_(t,u))||i.enumerable});return r},P=(r,t)=>U(K(E(r!=null?Z(ee(r)):{},"default",!t&&r&&r.__esModule?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r),te=(r=>(t,n)=>r&&r.get(t)||(n=U(K({}),t,1),r&&r.set(t,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var se={};re(se,{AddressAutofill:()=>X,AddressMinimap:()=>G,SearchBox:()=>D,config:()=>Y.config,useAddressAutofillCore:()=>j,useConfirmAddress:()=>W,useEvented:()=>q,useMapboxAutofill:()=>j,useSearchBoxCore:()=>z,useSearchSession:()=>Q});var ke=require("@mapbox/search-js-web"),Y=require("@mapbox/search-js-web");var f=P(require("react")),X=f.default.forwardRef((r,t)=>{let{accessToken:n,options:i,theme:u,popoverOptions:p,confirmOnBrowserAutofill:h,browserAutofillEnabled:v,children:b,onChange:m,onSuggest:S,onSuggestError:x,onRetrieve:A,interceptSearch:M}=r,o=(0,f.useRef)();return(0,f.useImperativeHandle)(t,()=>({focus:()=>{if(o.current)return o.current.focus();throw new Error("AddressAutofill is not mounted")}})),(0,f.useEffect)(()=>{o.current&&(o.current.options=i)},[o.current,i]),(0,f.useEffect)(()=>{o.current&&(o.current.interceptSearch=M)},[o.current,i]),(0,f.useEffect)(()=>{o.current&&(o.current.theme=u)},[o.current,u]),(0,f.useEffect)(()=>{o.current&&(o.current.popoverOptions=p)},[o.current,p]),(0,f.useEffect)(()=>{o.current&&(o.current.confirmOnBrowserAutofill=h)},[o.current,h]),(0,f.useEffect)(()=>{o.current&&(o.current.browserAutofillEnabled=v)},[o.current,v]),(0,f.useEffect)(()=>{let c=o.current;if(!c||!S)return;let e=s=>S(s.detail);return c.addEventListener("suggest",e),()=>{c.removeEventListener("suggest",e)}},[o.current,S]),(0,f.useEffect)(()=>{let c=o.current;if(!c||!x)return;let e=s=>x(s.detail);return c.addEventListener("suggesterror",e),()=>{c.removeEventListener("suggesterror",e)}},[o.current,x]),(0,f.useEffect)(()=>{let c=o.current;if(!c||!A)return;let e=s=>A(s.detail);return c.addEventListener("retrieve",e),()=>{c.removeEventListener("retrieve",e)}},[o.current,A]),(0,f.useEffect)(()=>{let c=o.current;if(!c||!m)return;let e=s=>{s.target===s.currentTarget&&m(s.detail)};return c.addEventListener("input",e),()=>{c.removeEventListener("input",e)}},[o.current,m]),(0,f.useEffect)(()=>{o.current&&(o.current.accessToken=n)},[o.current,n]),f.default.createElement("mapbox-address-autofill",{ref:o},b)});var a=P(require("react")),D=a.default.forwardRef((r,t)=>{let{accessToken:n,options:i,theme:u,popoverOptions:p,placeholder:h,map:v,marker:b,mapboxgl:m,value:S,onChange:x,onSuggest:A,onSuggestError:M,onRetrieve:o,interceptSearch:c}=r,e=(0,a.useRef)();return(0,a.useImperativeHandle)(t,()=>({focus:()=>{if(e.current)return e.current.focus();throw new Error("SearchBox is not mounted")},search:s=>{if(e.current)return e.current.search(s);throw new Error("SearchBox is not mounted")}})),(0,a.useEffect)(()=>{e.current&&(e.current.options=i||{})},[e.current,i]),(0,a.useEffect)(()=>{e.current&&(e.current.interceptSearch=c)},[e.current,c]),(0,a.useEffect)(()=>{e.current&&(e.current.theme=u)},[e.current,u]),(0,a.useEffect)(()=>{e.current&&(e.current.popoverOptions=p)},[e.current,p]),(0,a.useEffect)(()=>{e.current&&(e.current.placeholder=h)},[e.current,h]),(0,a.useEffect)(()=>{e.current&&(e.current.value=S)},[e.current,S]),(0,a.useEffect)(()=>{let s=e.current;if(!!s)return s.bindMap(v),()=>{s.unbindMap()}},[e.current,v]),(0,a.useEffect)(()=>{e.current&&(e.current.marker=b)},[e.current,b]),(0,a.useEffect)(()=>{e.current&&(e.current.mapboxgl=m)},[e.current,m]),(0,a.useEffect)(()=>{let s=e.current;if(!s||!A)return;let l=g=>A(g.detail);return s.addEventListener("suggest",l),()=>{s.removeEventListener("suggest",l)}},[e.current,A]),(0,a.useEffect)(()=>{let s=e.current;if(!s||!M)return;let l=g=>M(g.detail);return s.addEventListener("suggesterror",l),()=>{s.removeEventListener("suggesterror",l)}},[e.current,M]),(0,a.useEffect)(()=>{let s=e.current;if(!s||!o)return;let l=g=>o(g.detail);return s.addEventListener("retrieve",l),()=>{s.removeEventListener("retrieve",l)}},[e.current,o]),(0,a.useEffect)(()=>{let s=e.current;if(!s||!x)return;let l=g=>{g.target===g.currentTarget&&x(g.detail)};return s.addEventListener("input",l),()=>{s.removeEventListener("input",l)}},[e.current,x]),(0,a.useEffect)(()=>{e.current&&(e.current.accessToken=n)},[e.current,n]),a.default.createElement("mapbox-search-box",{ref:e})});var d=P(require("react"));function G(r){let{canAdjustMarker:t=!1,keepMarkerCentered:n=!1,markerAnchor:i="bottom",onSaveMarkerLocation:u,show:p=!1,accessToken:h,feature:v=null,adjustBtnText:b,saveBtnText:m,cancelBtnText:S,satelliteToggle:x=!1,theme:A,mapStyleMode:M="default",defaultMapStyle:o=["mapbox","streets-v11"],footer:c}=r,e=(0,d.useRef)();return(0,d.useEffect)(()=>{!e.current||(p?e.current.show():e.current.hide())},[e.current,p]),(0,d.useEffect)(()=>{e.current&&(e.current.theme=A)},[e.current,A]),(0,d.useEffect)(()=>{e.current&&(e.current.feature=p?v:null)},[e.current,v,p]),(0,d.useEffect)(()=>{e.current&&(e.current.mapStyleMode=M)},[e.current,M]),(0,d.useEffect)(()=>{b!==void 0&&e.current&&(e.current.adjustBtnText=b)},[e.current,b]),(0,d.useEffect)(()=>{m!==void 0&&e.current&&(e.current.saveBtnText=m)},[e.current,m]),(0,d.useEffect)(()=>{S!==void 0&&e.current&&(e.current.cancelBtnText=S)},[e.current,S]),(0,d.useEffect)(()=>{e.current&&(e.current.defaultMapStyle=o)},[e.current,o]),(0,d.useEffect)(()=>{c!==void 0&&e.current&&(e.current.footer=c)},[e.current,c]),(0,d.useEffect)(()=>{e.current&&(e.current.accessToken=h)},[e.current,h]),(0,d.useEffect)(()=>{e.current&&(e.current.onSaveMarkerLocation=u)},[e.current,u]),d.default.createElement("mapbox-address-minimap",{ref:e,"can-adjust-marker":t,"keep-marker-centered":n,"marker-anchor":i,"satellite-toggle":x})}var R=require("react");function q(r,t,n){let i=(0,R.useRef)(n);(0,R.useEffect)(()=>{i.current=n}),(0,R.useEffect)(()=>{if(!r)return;let u=p=>i.current(p);return r.addEventListener(t,u),()=>{r.removeEventListener(t,u)}},[r,t,i])}var k=require("react"),H=require("@mapbox/search-js-core"),oe=H.AddressAutofillCore.defaults;function j(r){let t=(0,k.useMemo)(()=>new H.AddressAutofillCore,[]);return(0,k.useEffect)(()=>{let u=r,{accessToken:n}=u,i=O(u,["accessToken"]);t.accessToken=n,t.defaults=T(T({},oe),i)},[r]),t}var C=require("react"),F=require("@mapbox/search-js-core"),ne=F.SearchBoxCore.defaults;function z(r){let t=(0,C.useMemo)(()=>new F.SearchBoxCore,[]);return(0,C.useEffect)(()=>{let u=r,{accessToken:n}=u,i=O(u,["accessToken"]);t.accessToken=n,t.defaults=T(T({},ne),i)},[r]),t}var L=require("@mapbox/search-js-core"),N=require("react");function Q(r){let t=(0,N.useMemo)(()=>new L.SearchSession(r),[r]);return r instanceof L.SearchBoxCore,t}var y=require("react"),V=require("@mapbox/search-js-web");function W(r={}){let t=(0,y.useRef)(null);return(0,y.useMemo)(()=>({formRef:t,showConfirm:()=>(0,V.confirmAddress)(t.current,r)}),[t,r])}module.exports=te(se);
//# sourceMappingURL=index.js.map
